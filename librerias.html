<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="./style.css">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <script src="./script2.js"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link rel="icon" href="./images/ic_launcher-web.png" />
  <link href="https://fonts.googleapis.com/css?family=Amatic+SC&display=swap" rel="stylesheet">
  <title>Reporte de Tachiyomi</title>
</head>

<body>
  <div class="cover-container container-fluid d-flex w-100 h-100 p-3 mx-auto flex-column">
    <header class="masthead mb-auto">
      <div class="inner">
        <a id="naviga" href="./index.html">
          <h3 class="masthead-brand">Reporte de Tachiyomi</h3>
        </a>
        <nav class="nav nav-masthead justify-content-center">
          <a class="nav-link" href="./index.html">¿Qué es Tachiyomi?</a>
          <a class="nav-link" href="./features.html">Features</a>
          <a class="nav-link" href="./uxui.html">UX/UI</a>
          <a class="nav-link active" href="./librerias.html">Librerías</a>
          <a class="nav-link" href="./arq.html">Arquitectura</a>
          <a class="nav-link" href="./eventualConn.html">Conectividad Eventual</a>
          <a class="nav-link" href="./performance.html">Performance</a>
          <a class="nav-link" href="./almacenamiento.html">Almacenamiento</a>
          <a class="nav-link" href="./conclusion.html">Conclusiones</a>
          <a class="nav-link" href="./us.html">¿Quienes somos?</a>
          <a class="nav-link" href="./try.html">Try it yourself</a>
        </nav>
      </div>
    </header>
    <main class="inner cover2">
      <div class="welcome">
        <h1 class="cover-heading">Librerías</h1>
        <p class="lead">
          El app de Tachiyomi hace uso de varias librerías de terceros. En esta sección se explicará el
          funcionamiento de estas librerías junto con fragmentos de código en donde se usan dichas librerías en la
          aplicación.
        </p>
        <div id="div-chevron" class="row">
          <img id="img-chevron" width="50rem" height="50rem" src="./images/chevron.png" alt="chevron-button">
        </div>
      </div>
      <div class="row projects">
        <div class="col-sm container-fluid" data-aos="fade-left">
          <h1 class="about-me">OkHttp y Okio</h1>
          <p class="about-me">
            OkHttp es una librería para manejo de peticiones HTTP. Esta librería tiene dependencia con Okio, la cual
            es usada para un manejo eficiente de operaciones I/O. Un ejemplo del uso de estas librería en la aplicación
            es el siguiente. En el archivo Requests, se define la estructura de las peticiones que serán utilizadas
            en la aplicación. Por otro lado, en la clase ProgressResponseBody se usa Okio para manejar la lectura de
            un recurso, con información sobre el progreso de la operación.
          </p>
          <p class="about-me">
            <script src="https://gist.github.com/SeCardenas/b8b416d8d97e5b0d7bdf2021c4d3c6b7.js"></script>
          </p>
          <p class="about-me">
            <script src="https://gist.github.com/SeCardenas/4bdb757ad80b6b2a7eff7a47f9bec12d.js"></script>
          </p>
        </div>
      </div>
      <div class="row projects">
        <div class="col-sm container-fluid" data-aos="fade-left">
          <h1 class="about-me">Gson</h1>
          <p class="about-me">
            Gson es una librería desarrollada por Google para serializar objetos a json y deserializar de json a
            objetos. En el caso de Tachiyomi, esta librería se usa para serializar/deserializar la información de
            descarga de un capítulo para poder ser almacenada en o recuperada de Shared Preferences (más información
            en la sección de Almacenamiento), tal como se muestra a continuación:
          </p>
          <p class="about-me">
            <script src="https://gist.github.com/SeCardenas/980c98f73a7aeed9d7aa7dd615e4d9e8.js"></script>
          </p>
        </div>
      </div>
      <div class="row projects">
        <div class="col-sm container-fluid" data-aos="fade-left">
          <h1 class="about-me">UniFile</h1>
          <p class="about-me">
            Es un Fork de DocumentFile, pero con funcionalidades adicionales. En Tachiyomi esta librería se usa para
            manejar almacenamiento externo. Los siguientes ejemplos corresponden al uso de UniFile en almacenamiento
            para backup y almacenamiento de capítulos (en ambos casos se usa para crear directorios y archivos).
          </p>
          <p class="about-me">
            <script src="https://gist.github.com/SeCardenas/31721227e663c7484dd8a8b29ddc0dec.js"></script>
          </p>
          <p class="about-me">
            <script src="https://gist.github.com/SeCardenas/8af7a6317b21e82ab38da38d6888bb7a.js"></script>
          </p>
        </div>
      </div>
      <div class="row projects">
        <div class="col-sm container-fluid" data-aos="fade-left">
          <h1 class="about-me">Injekt</h1>
          <p class="about-me">
            Injekt es una librería para injección de dependencias en Kotlin. Tachiyomi funciona con injección de
            dependencias, tal como se muestra a continuación.
          </p>
          <p class="about-me">
            <script src="https://gist.github.com/jframos29/eeaefd68bf71649c802128f6e9ded3d3.js"></script>
          </p>
          <p class="about-me">
            Para más información sobre este patrón, consulte la sección de Arquitectura.
          </p>
        </div>
      </div>
      <div class="row projects">
        <div class="col-sm container-fluid" data-aos="fade-left">
          <h1 class="about-me">SQLite con StorIO</h1>
          <p class="about-me">
            StorIO es un API que busca reemplazar el uso de las APIs SQLiteDatabase y ContentResolver, integrando
            las funcionalidades de ambas APIs de una manera más sencilla para el desarrollador. En el proyecto de
            Tachiyomi, se hace uso de StorIOSQLite para manejar su base de datos interna, junto con Rx, el cual
            observa los cambios realizados a la base de datos para actualizar el estado de la aplicación. Un
            ejemplo del uso de StorIO se puede observar en las interfaces del directorio data/database/queries. En
            dichas interfaces, se hace uso de la propiedad heredada de DbProvider: db, el cual es de tipo
            DefaultStorIOSQLite para crear, construir y preparar las queries para las distintas operaciones sobre
            los modelos de la aplicación.
          </p>
          <p class="about-me">
            <script src="https://gist.github.com/SeCardenas/cedd88c56cfb411ed0ae019fdd5ef4d7.js"></script>
          </p>
          <p class="about-me">
            <script src="https://gist.github.com/SeCardenas/0fba41c9c6f2ad0d51bcd8e6f9bcc1bb.js"></script>
          </p>
          <p class="about-me">
            En la sección de Almacenamiento se explicará más a fondo el uso de esta librería.
          </p>
        </div>
      </div>

      <div class="row projects">
        <div class="col-sm container-fluid" data-aos="fade-left">
          <h1 class="about-me">ReactiveX (Rx)</h1>
          <p class="about-me">
            ReactiveX es una librería hecha para la ejecución de tareas en segundo plano de forma asíncrona. De igual
            manera, permite la ejecución de varios hilos con el fin de finiquitar dichas tareas en segundo plano y tener
            un rendimiento efectivo en la consecución de tareas de alto impacto como las descargas de mangas (en este
            caso) o las
            tareas computacionalmente costosas por la gran cantidad de información.
          </p>
          <p class="about-me">
            En la sección de Arquitectura se explicará más a fondo el uso de esta librería y en la sección de
            Arquitectura y Performance encontrará fragmentos de código de su uso.
          </p>
        </div>
      </div>

      <div class="row projects">
        <div class="col-sm container-fluid" data-aos="fade-left">
          <h1 class="about-me">Nucleus</h1>
          <p class="about-me">
            Nucleus es una librería hecha para utilizar el patrón MVP dentro de aplicaciones Android. En conjunto con Rx
            es especialmente util para otorgar respuestas apropiadas a la realización de tareas en segundo plano; esto
            porque Nucleus permite mantener el estado de la aplicación y reaccionar frente a los cambios del mismo (en
            cada uno de los modelos y vistas respectivas con ayuda del presentador de cada uno de esos modelos y
            vistas). De igual manera, esto la hace una librería robusta para combatir eventos de conectividad eventual
            aunque, como se verá, (o se ha visto) no hay nada perfecto.
          </p>
          <p class="about-me">
            En la sección de Arquitectura se explicará más a fondo el uso de esta librería y en la sección de
            Arquitectura y Performance encontrará fragmentos de código de su uso.
          </p>
        </div>
      </div>
      <div class="row projects">
        <div class="col-sm container-fluid" data-aos="fade-left">
          <h1 class="about-me">Glide</h1>
          <p class="about-me">
            Glide es una librería para carga y caching de imágenes. El uso de Glide en Tachiyomi se divide
            principalmente en 4 clases. La clase TachiGlideModule, que extiende de AppGlideModule, es la que
            actualiza la configuración del módulo de Glide. Aquí se definen configuraciones como el manejo de
            caching en disco, opciones de transición, y opciones de solicitud.
          </p>
          <p class="about-me">
            <script src="https://gist.github.com/SeCardenas/91a89770427a2fd5cec9ee024b436a7a.js"></script>
          </p>
          <p class="about-me">
            La clase FileFetcher se encarga de manejar la carga de imágenes desde archivos, tal como se aprecia en
            el método loadFromFile.
          </p>
          <p class="about-me">
            <script src="https://gist.github.com/SeCardenas/c9bc601017cb26302dd310bb13d318cf.js"></script>
          </p>
          <p class="about-me">
            En la clase LibraryMangaUrlFetcher se encarga de manejar parte del caching de imágenes: para cargar una
            imagen, debe revisar si está en caché. Si no está en caché, debe descargar la imagen y guardarla en caché.
            En el siguiente fragmento de código, en el método loadData, se verifica si el archivo recibido existe.
            Si existe, se carga la imagen. Si no, se descarga, se guarda localmente, se copia a caché, y finalmente
            se carga desde el archivo guardado.
          </p>
          <p class="about-me">
            <script src="https://gist.github.com/SeCardenas/f16b55be25dfeaef1777b92a23e2137f.js"></script>
          </p>
          <p class="about-me">
            Finalmente, el MangaModelLoader aplica más técnicas de caching (e.g. LRU) en el método buildLocalData
          </p>
          <p class="about-me">
            <script src="https://gist.github.com/SeCardenas/aa6e4d177158b1f4e4fc6f023252d3f9.js"></script>
          </p>
        </div>
      </div>
    </main>
    <footer class="mastfoot mt-auto">
      <div class="inner row">
        <div class="col-sm">
          <p>Contact us! <a href="mailto:juferamos@outlook.com"><img title="Send me an email" class="email"
                height="13rem" width="17rem" src="./images/email.png" alt="Email link"></a><a
              href="https://github.com/mobileDevReport/" target="_blank"><img title="Watch our github page"
                class="email" height="17rem" width="17rem" src="./images/github.png" alt="github link"></a></p>
        </div>
        <div class="col-sm">
          <p id="despedida">A digito cognoscitur leo</p>
        </div>
      </div>
    </footer>
  </div>
  <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
  <script>
    AOS.init();
  </script>
</body>

</html>